(function(){"use strict";var t={5232:function(t,e,o){var s=o(9242),r=o(3396);const a={class:"app"};function n(t,e,o,s,n,i){const l=(0,r.up)("navbar"),c=(0,r.up)("router-view");return(0,r.wg)(),(0,r.iD)(r.HY,null,[(0,r.Wm)(l),(0,r._)("div",a,[(0,r.Wm)(c)])],64)}o(7658);const i=t=>((0,r.dD)("data-v-ab8f643a"),t=t(),(0,r.Cn)(),t),l=i((()=>(0,r._)("div",{class:"navbar-head"},null,-1))),c={class:"navbar"},u={class:"navbar__btn"},d=i((()=>(0,r._)("div",{class:"activeBtn"},null,-1)));function p(t,e,o,s,a,n){const i=(0,r.up)("my-button");return(0,r.wg)(),(0,r.iD)(r.HY,null,[l,(0,r._)("div",c,[(0,r._)("div",{style:{cursor:"pointer",color:"#000"},onClick:e[0]||(e[0]=e=>t.$router.push("/")),class:"icon"}," VP.GITHUB "),(0,r._)("div",u,[(0,r.Wm)(i,{onClick:e[1]||(e[1]=e=>t.$router.push("/posts"))},{default:(0,r.w5)((()=>[(0,r.Uk)("Posts")])),_:1}),(0,r.Wm)(i,{onClick:e[2]||(e[2]=e=>t.$router.push("/about"))},{default:(0,r.w5)((()=>[(0,r.Uk)("About")])),_:1}),d])])],64)}var h={mounted(){const t=document.querySelectorAll(".navbar__btn > button"),e=document.querySelector(".icon");function o(){e.addEventListener("click",(()=>document.location.reload(!0)))}function s(){t.forEach((t=>{t.addEventListener("click",(()=>{r(),t.classList.add("active")}))}))}function r(){t.forEach((t=>{t.classList.remove("active")}))}s(),o()}},m=o(89);const v=(0,m.Z)(h,[["render",p],["__scopeId","data-v-ab8f643a"]]);var y=v,f={components:{Navbar:y}};const g=(0,m.Z)(f,[["render",n]]);var b=g;const w={class:"btn"};function P(t,e,o,s,a,n){return(0,r.wg)(),(0,r.iD)("button",w,[(0,r.WI)(t.$slots,"default",{},void 0,!0)])}var _={name:"my-button"};const k=(0,m.Z)(_,[["render",P],["__scopeId","data-v-7235a0aa"]]);var D=k;const C=["value"];function I(t,e,o,s,a,n){return(0,r.wg)(),(0,r.iD)("input",{value:o.value,onInput:e[0]||(e[0]=(...t)=>n.updateInput&&n.updateInput(...t)),type:"text",class:"input"},null,40,C)}var x={name:"my-input",props:{value:[Number,String]},methods:{updateInput(t){this.$emit("update:value",t.target.value)}}};const W=(0,m.Z)(x,[["render",I],["__scopeId","data-v-595194f2"]]);var $=W;function O(t,e,o,a,n,i){return o.show?((0,r.wg)(),(0,r.iD)("div",{key:0,class:"dialog",onClick:e[1]||(e[1]=(...t)=>i.hideDialog&&i.hideDialog(...t))},[(0,r._)("div",{onClick:e[0]||(e[0]=(0,s.iM)((()=>{}),["stop"])),class:"dialog__content"},[(0,r.WI)(t.$slots,"default",{},void 0,!0)])])):(0,r.kq)("",!0)}var T={name:"my-dialog",props:{show:{type:Boolean,default:!1}},methods:{hideDialog(){this.$emit("update:show",!1)}}};const S=(0,m.Z)(T,[["render",O],["__scopeId","data-v-0fd40533"]]);var V=S,E=[D,$,V];const L=(0,r._)("h1",null,"Welcome",-1),M=[L];function Z(t,e,o,s,a,n){return(0,r.wg)(),(0,r.iD)("div",null,M)}var j={data(){return{dark:!1,root:null}},mounted(){this.root=document.documentElement},watch:{dark:{handler:function(){this.$nextTick((()=>{this.dark?(this.root.style.setProperty("--main-background-color","#f2f2f2"),this.root.style.setProperty("--dark-background-color","#000"),this.root.style.setProperty("--main-text-color","#000"),this.root.style.setProperty("--white-text-color","#fff"),this.root.style.setProperty("--white-color","#fff"),this.root.style.setProperty("--main-button-color","#42b883"),this.root.style.setProperty("--delete-color","#c21e56"),this.root.style.setProperty("--page-wrapper-bg","rgba(32, 32, 32, 0.1)")):(this.root.style.setProperty("--main-background-color","#000"),this.root.style.setProperty("--dark-background-color","#fff"),this.root.style.setProperty("--main-text-color","#fff"),this.root.style.setProperty("--white-text-color","#000"),this.root.style.setProperty("--white-color","#202124"),this.root.style.setProperty("--main-button-color","#2EE59D"),this.root.style.setProperty("--delete-color","#fa0b5b"),this.root.style.setProperty("--page-wrapper-bg","rgb(31 255 131 / 10%)"))}))},immediate:!0}}};const U=(0,m.Z)(j,[["render",Z]]);var q=U;const A=(0,r._)("h1",null,"Posts",-1),R={class:"app__btns"},H={key:1,style:{"will-change":"transform"},class:"posts-loading"},Y={ref:"observer",class:"observer"};function B(t,e,o,a,n,i){const l=(0,r.up)("my-input"),c=(0,r.up)("my-button"),u=(0,r.up)("my-select"),d=(0,r.up)("post-form"),p=(0,r.up)("my-dialog"),h=(0,r.up)("post-list");return(0,r.wg)(),(0,r.j4)(s.uT,null,{default:(0,r.w5)((()=>[(0,r._)("div",null,[A,(0,r.Wm)(l,{value:n.searchQuery,"onUpdate:value":e[0]||(e[0]=t=>n.searchQuery=t),placeholder:"Search...",style:{padding:"10px 0","border-left":"0","border-right":"0"}},null,8,["value"]),(0,r._)("div",R,[(0,r.Wm)(c,{onClick:i.showDialog,class:"create-post"},{default:(0,r.w5)((()=>[(0,r.Uk)("Create Post")])),_:1},8,["onClick"]),(0,r.Wm)(u,{class:"select",modelValue:n.selectedSort,"onUpdate:modelValue":e[1]||(e[1]=t=>n.selectedSort=t),options:n.sortOptions},null,8,["modelValue","options"])]),(0,r.Wm)(s.uT,{name:"modal-show"},{default:(0,r.w5)((()=>[(0,r.Wm)(p,{show:n.dialogVisible,"onUpdate:show":e[2]||(e[2]=t=>n.dialogVisible=t),style:{"will-change":"transform"}},{default:(0,r.w5)((()=>[(0,r.Wm)(d,{onCreate:i.createPost},null,8,["onCreate"])])),_:1},8,["show"])])),_:1}),(0,r.Wm)(s.uT,null,{default:(0,r.w5)((()=>[n.isPostLoading?((0,r.wg)(),(0,r.iD)("div",H," Posts Loading... ")):((0,r.wg)(),(0,r.j4)(h,{key:0,posts:i.searchedPosts,onRemove:i.removePost,style:{"will-change":"transform"},class:"posts"},null,8,["posts","onRemove"]))])),_:1}),(0,r._)("div",Y,null,512)])])),_:1})}o(541);const z=t=>((0,r.dD)("data-v-4a54ed4b"),t=t(),(0,r.Cn)(),t),Q=z((()=>(0,r._)("h2",{style:{color:"var(--main-text-color)"}},"Create Post",-1)));function F(t,e,o,a,n,i){const l=(0,r.up)("my-input"),c=(0,r.up)("my-button");return(0,r.wg)(),(0,r.iD)("form",{onSubmit:e[2]||(e[2]=(0,s.iM)((()=>{}),["prevent"]))},[Q,(0,r.Wm)(l,{value:n.post.title,"onUpdate:value":e[0]||(e[0]=t=>n.post.title=t),type:"text",placeholder:"Title",required:"",minlength:"10",class:"input-modal"},null,8,["value"]),(0,r.Wm)(l,{value:n.post.body,onInput:e[1]||(e[1]=t=>n.post.body=t.target.value),type:"text",placeholder:"Description",required:"",minlength:"10",class:"input-modal"},null,8,["value"]),(0,r.Wm)(c,{class:"btn",onClick:i.canClickBtn,type:"submit"},{default:(0,r.w5)((()=>[(0,r.Uk)("Create")])),_:1},8,["onClick"])],32)}var K={data(){return{post:{title:"",body:"",id:0},isDisabled:!0}},methods:{createPost(){this.$emit("create",this.post),this.post={title:"",body:""}},canClickBtn(){let t=document.querySelector(".input-modal");t.value.length<10?this.isDisabled=!0:this.createPost()}},mounted(){}};const N=(0,m.Z)(K,[["render",F],["__scopeId","data-v-4a54ed4b"]]);var G=N;const J={key:0},X={key:1,style:{color:"#c21e56","text-align":"center",display:"block"}};function tt(t,e,o,a,n,i){const l=(0,r.up)("post-item");return this.posts.length>0?((0,r.wg)(),(0,r.iD)("div",J,[(0,r.Wm)(s.W3,{name:"post-list"},{default:(0,r.w5)((()=>[((0,r.wg)(!0),(0,r.iD)(r.HY,null,(0,r.Ko)(o.posts,(e=>((0,r.wg)(),(0,r.j4)(l,{post:e,key:e.id,onRemove:o=>t.$emit("remove",e),style:{"will-change":"transform"}},null,8,["post","onRemove"])))),128))])),_:1})])):((0,r.wg)(),(0,r.iD)("h2",X," POST LIST IS EMPTY! "))}var et=o(7139);const ot={class:"post-wrapper"},st={class:"post"},rt={class:"post-main title"},at={class:"post-main"},nt={class:"buttons"};function it(t,e,o,a,n,i){const l=(0,r.up)("my-button");return(0,r.wg)(),(0,r.j4)(s.uT,null,{default:(0,r.w5)((()=>[(0,r._)("div",ot,[(0,r._)("div",st,[(0,r._)("div",null,[(0,r._)("div",rt,(0,et.zw)(o.post.title),1),(0,r._)("div",at,(0,et.zw)(o.post.body),1)]),(0,r._)("div",nt,[(0,r.Wm)(l,{class:"btn-read_more-post",onClick:e[0]||(e[0]=e=>t.$router.push(`/posts/${o.post.id}`))},{default:(0,r.w5)((()=>[(0,r.Uk)("Read More")])),_:1}),(0,r.Wm)(l,{class:"btn-delete-post",onClick:e[1]||(e[1]=e=>t.$emit("remove",o.post))},{default:(0,r.w5)((()=>[(0,r.Uk)("Remove")])),_:1})])])])])),_:1})}var lt={props:{post:{type:Object,required:!0}},methods:{copyPost(){return this.post}}};const ct=(0,m.Z)(lt,[["render",it],["__scopeId","data-v-6c65c23e"]]);var ut=ct,dt={components:{postItem:ut},props:{posts:{type:Array,required:!0}}};const pt=(0,m.Z)(dt,[["render",tt],["__scopeId","data-v-47589b6a"]]);var ht=pt;const mt=t=>((0,r.dD)("data-v-3f33647b"),t=t(),(0,r.Cn)(),t),vt=mt((()=>(0,r._)("option",{disabled:"",value:""},"Select",-1))),yt=["value"];function ft(t,e,o,a,n,i){return(0,r.wy)(((0,r.wg)(),(0,r.iD)("select",{"onUpdate:modelValue":e[0]||(e[0]=t=>o.modelValue=t),onChange:e[1]||(e[1]=(...t)=>i.changeOption&&i.changeOption(...t))},[vt,((0,r.wg)(!0),(0,r.iD)(r.HY,null,(0,r.Ko)(o.options,(t=>((0,r.wg)(),(0,r.iD)("option",{key:t.value,value:t.value},(0,et.zw)(t.name),9,yt)))),128))],544)),[[s.bM,o.modelValue]])}var gt={name:"my-select",props:{modelValue:{type:String},options:{type:Array,default:()=>[]}},methods:{changeOption(t){this.$emit("update:modelValue",t.target.value)}}};const bt=(0,m.Z)(gt,[["render",ft],["__scopeId","data-v-3f33647b"]]);var wt=bt,Pt=o(6265),_t=o.n(Pt),kt={components:{postList:ht,postForm:G,MySelect:wt},data(){return{posts:[],dialogVisible:!1,isPostLoading:!1,dark:!1,root:null,selectedSort:"",searchQuery:"",page:1,limit:10,metaAll:0,meta:"total_count",totalPages:0,sortOptions:[{value:"title",name:"Title"},{value:"body",name:"Description"}]}},methods:{reversePosts(){this.posts.reverse()},createPost(t){return this.posts.unshift(t),this.dialogVisible=!1,_t().post("http://localhost:8055/items/posts",{title:t.title,body:t.body}).then((()=>{setTimeout((()=>document.location.reload(!0)),1e3)}))},removePost(t){let e="http://localhost:8055/items/posts";return this.posts=this.posts.filter((e=>e.id!==t.id)),_t()["delete"](`${e}/${t.id}`)},showDialog(){this.dialogVisible=!0},changePage(t){this.page=t},openPost(){},async fetchPosts(){try{this.isPostLoading=!0;const t=await _t().get("http://localhost:8055/items/posts",{params:{page:this.page,limit:this.limit,meta:this.meta}});this.totalPages=Math.ceil(t.data.meta.total_count/this.limit),this.posts=await t.data.data,this.metaAll=t.data.meta.total_count,this.reversePosts()}catch(t){alert(t.message),document.location.reload(!0)}finally{setTimeout((()=>this.isPostLoading=!1),0)}},async loadMorePosts(){try{this.page+=1;const t=await _t().get("http://localhost:8055/items/posts",{params:{page:this.page,limit:this.limit,meta:this.meta}});this.totalPages=Math.ceil(t.data.meta.total_count/this.limit),this.posts=await([...this.posts,...t.data.data]),this.reversePosts()}catch(t){alert(t.message,t.name),document.location.reload(!0)}}},mounted(){this.fetchPosts(),this.reversePosts(),this.root=document.documentElement;const t={rootMargin:"0px",threshold:1},e=(t,e)=>{t[0].isIntersecting&&this.page<this.totalPages&&this.loadMorePosts()},o=new IntersectionObserver(e,t);o.observe(this.$refs.observer)},computed:{sortedPosts(){return[...this.posts].sort(((t,e)=>t[this.selectedSort]?.localeCompare(e[this.selectedSort])))},searchedPosts(){return this.sortedPosts.filter((t=>t.title.toLowerCase().includes(this.searchQuery.toLowerCase())))},getIdFromMeta(){return this.fetchPosts(),this.metaAll}},watch:{dark:{handler:function(){this.$nextTick((()=>{this.dark?(this.root.style.setProperty("--main-background-color","#f2f2f2"),this.root.style.setProperty("--dark-background-color","#000"),this.root.style.setProperty("--main-text-color","#000"),this.root.style.setProperty("--white-text-color","#fff"),this.root.style.setProperty("--white-color","#fff"),this.root.style.setProperty("--main-button-color","#42b883"),this.root.style.setProperty("--delete-color","#c21e56"),this.root.style.setProperty("--page-wrapper-bg","rgba(32, 32, 32, 0.1)")):(this.root.style.setProperty("--main-background-color","#000"),this.root.style.setProperty("--dark-background-color","#fff"),this.root.style.setProperty("--main-text-color","#fff"),this.root.style.setProperty("--white-text-color","#000"),this.root.style.setProperty("--white-color","#202124"),this.root.style.setProperty("--main-button-color","#2EE59D"),this.root.style.setProperty("--delete-color","#fa0b5b"),this.root.style.setProperty("--page-wrapper-bg","rgb(31 255 131 / 10%)"))}))},immediate:!0}}};const Dt=(0,m.Z)(kt,[["render",B]]);var Ct=Dt;const It=(0,r._)("h1",null,"About site",-1),xt=(0,r._)("p",null,"This website was build by Nguyen Tien Hoach",-1),Wt=[It,xt];function $t(t,e,o,s,a,n){return(0,r.wg)(),(0,r.iD)("div",null,Wt)}var Ot={};const Tt=(0,m.Z)(Ot,[["render",$t]]);var St=Tt;function Vt(t,e,o,s,a,n){const i=(0,r.up)("post-item");return(0,r.wg)(),(0,r.iD)("div",null,[(0,r._)("h1",null,"Page with id post: "+(0,et.zw)(t.$route.params.id),1),((0,r.wg)(!0),(0,r.iD)(r.HY,null,(0,r.Ko)(a.posts,(e=>((0,r.wg)(),(0,r.j4)(i,{post:e,key:e.id,onRemove:o=>t.$emit("remove",e),style:{"will-change":"transform"}},null,8,["post","onRemove"])))),128))])}var Et={components:{postItem:ut},data(){return{posts:[]}},methods:{filterPost(){this.posts=this.posts.filter((t=>t.id==this.$route.params.id))},async fetchPost(){try{const t=await _t().get("http://localhost:8055/items/posts");this.posts=t.data.data,this.filterPost()}catch(t){alert(t),document.location.reload(!0)}}},mounted(){this.fetchPost()}};const Lt=(0,m.Z)(Et,[["render",Vt]]);var Mt=Lt,Zt=o(2483);const jt=[{path:"/",component:q},{path:"/posts",component:Ct},{path:"/about",component:St},{path:"/posts/:id",component:Mt,name:"postIdPage",props:!0}],Ut=(0,Zt.p7)({routes:jt,history:(0,Zt.PO)("/")});var qt=Ut;const At=(0,s.ri)(b);E.forEach((t=>{At.component(t.name,t)})),At.use(qt).mount("#app")}},e={};function o(s){var r=e[s];if(void 0!==r)return r.exports;var a=e[s]={exports:{}};return t[s](a,a.exports,o),a.exports}o.m=t,function(){var t=[];o.O=function(e,s,r,a){if(!s){var n=1/0;for(u=0;u<t.length;u++){s=t[u][0],r=t[u][1],a=t[u][2];for(var i=!0,l=0;l<s.length;l++)(!1&a||n>=a)&&Object.keys(o.O).every((function(t){return o.O[t](s[l])}))?s.splice(l--,1):(i=!1,a<n&&(n=a));if(i){t.splice(u--,1);var c=r();void 0!==c&&(e=c)}}return e}a=a||0;for(var u=t.length;u>0&&t[u-1][2]>a;u--)t[u]=t[u-1];t[u]=[s,r,a]}}(),function(){o.n=function(t){var e=t&&t.__esModule?function(){return t["default"]}:function(){return t};return o.d(e,{a:e}),e}}(),function(){o.d=function(t,e){for(var s in e)o.o(e,s)&&!o.o(t,s)&&Object.defineProperty(t,s,{enumerable:!0,get:e[s]})}}(),function(){o.g=function(){if("object"===typeof globalThis)return globalThis;try{return this||new Function("return this")()}catch(t){if("object"===typeof window)return window}}()}(),function(){o.o=function(t,e){return Object.prototype.hasOwnProperty.call(t,e)}}(),function(){var t={143:0};o.O.j=function(e){return 0===t[e]};var e=function(e,s){var r,a,n=s[0],i=s[1],l=s[2],c=0;if(n.some((function(e){return 0!==t[e]}))){for(r in i)o.o(i,r)&&(o.m[r]=i[r]);if(l)var u=l(o)}for(e&&e(s);c<n.length;c++)a=n[c],o.o(t,a)&&t[a]&&t[a][0](),t[a]=0;return o.O(u)},s=self["webpackChunkvue3_course"]=self["webpackChunkvue3_course"]||[];s.forEach(e.bind(null,0)),s.push=e.bind(null,s.push.bind(s))}();var s=o.O(void 0,[998],(function(){return o(5232)}));s=o.O(s)})();
//# sourceMappingURL=app.4b943848.js.map