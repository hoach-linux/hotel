(function(){"use strict";var e={3413:function(e,t,o){var s=o(9963),a=o(6252);const r={class:"app"};function l(e,t,o,l,n,i){const d=(0,a.up)("navbar"),c=(0,a.up)("router-view");return(0,a.wg)(),(0,a.iD)(a.HY,null,[(0,a.Wm)(d),(0,a._)("div",r,[(0,a.Wm)(c,null,{default:(0,a.w5)((({Component:e})=>[(0,a.Wm)(s.uT,{name:"fade",mode:"out-in"},{default:(0,a.w5)((()=>[((0,a.wg)(),(0,a.j4)((0,a.LL)(e)))])),_:2},1024)])),_:1})])],64)}o(7658);var n=o.p+"img/logo.965b105d.png";const i=e=>((0,a.dD)("data-v-7fe34dd4"),e=e(),(0,a.Cn)(),e),d={class:"navbar"},c=i((()=>(0,a._)("img",{src:n,alt:"",class:"logo"},null,-1))),u=[c],m={class:"navbar__btn"},p=i((()=>(0,a._)("div",{class:"activeBtn"},null,-1))),h={class:"navbar__btn bottombar__btn"},f=i((()=>(0,a._)("p",null,"hotels",-1))),v=i((()=>(0,a._)("div",{class:"activeBtn"},null,-1)));function g(e,t,o,r,l,n){const i=(0,a.up)("my-button"),c=(0,a.up)("font-awesome-icon");return(0,a.wg)(),(0,a.iD)(a.HY,null,[(0,a._)("div",d,[(0,a._)("div",{style:{cursor:"pointer",color:"#000"},onClick:t[0]||(t[0]=t=>e.$router.push("/")),class:"icon"},u),(0,a.wy)((0,a._)("div",m,[(0,a.Wm)(i,{onClick:t[1]||(t[1]=t=>e.$router.push("/hotels")),class:"waves-effect waves-light"},{default:(0,a.w5)((()=>[(0,a.Uk)("Hotels")])),_:1}),p],512),[[s.F8,r.auth]]),r.auth?((0,a.wg)(),(0,a.iD)("button",{key:0,onClick:t[2]||(t[2]=(...e)=>r.logOut&&r.logOut(...e)),class:"log-out text-white border-2 border-rose-700 w-40 h-12 ml-2 mr-4 font-semibold transition ease-in-out duration-150 hover:w-60 rounded-[10px] waves-effect waves-light"},[(0,a.Uk)(" Log out "),(0,a.Wm)(c,{icon:"fa-solid fa-right-from-bracket",class:"ml-2"})])):(0,a.kq)("",!0)]),(0,a._)("div",h,[(0,a.Wm)(i,{onClick:t[3]||(t[3]=t=>e.$router.push("/hotels")),class:"waves-effect waves-light"},{default:(0,a.w5)((()=>[(0,a.Wm)(c,{icon:"fa-solid fa-hotel"}),f])),_:1}),v])],64)}var w=o(2201),b=o(3907),y=o(9669),_=o.n(y),x={setup(){const e=(0,w.tv)(),t=(0,b.oR)(),o=(0,a.Fl)((()=>t.state.post.authenticated)),s=async()=>{try{await _().post("https://b876ad7f-dd71-4ed3-829a-b2488d40b627.selcdn.net/auth/logout",{refresh_token:localStorage.getItem("refresh_token")});localStorage.clear(),t.dispatch("post/authFalse"),e.push("/register")}catch(o){alert(o)}};return{auth:o,logOut:s}},mounted(){const e=document.querySelectorAll(".navbar__btn > button");document.querySelector(".icon");function t(){e.forEach((e=>{e.addEventListener("click",(()=>{o(),e.classList.add("active")}))}))}function o(){e.forEach((e=>{e.classList.remove("active")}))}t()}},k=o(3744);const P=(0,k.Z)(x,[["render",g],["__scopeId","data-v-7fe34dd4"]]);var C=P,H={components:{Navbar:C},data(){return{dark:!1,root:null}},mounted(){this.root=document.documentElement},watch:{dark:{handler:function(){this.$nextTick((()=>{this.dark?(this.root.style.setProperty("--main-background-color","#f2f2f2"),this.root.style.setProperty("--dark-background-color","#000"),this.root.style.setProperty("--main-text-color","#000"),this.root.style.setProperty("--white-text-color","#fff"),this.root.style.setProperty("--white-color","#fff"),this.root.style.setProperty("--main-button-color","#42b883"),this.root.style.setProperty("--delete-color","#c21e56"),this.root.style.setProperty("--page-wrapper-bg","rgba(32, 32, 32, 0.1)")):(this.root.style.setProperty("--main-background-color","#000"),this.root.style.setProperty("--dark-background-color","#fff"),this.root.style.setProperty("--main-text-color","#fff"),this.root.style.setProperty("--white-text-color","#000"),this.root.style.setProperty("--white-color","#161617"),this.root.style.setProperty("--main-button-color","#2EE59D"),this.root.style.setProperty("--delete-color","#fa0b5b"),this.root.style.setProperty("--page-wrapper-bg","rgb(31 255 131 / 10%)"))}))},immediate:!0}}};const I=(0,k.Z)(H,[["render",l]]);var S=I;const W={class:"btn waves-effect waves-light"};function D(e,t,o,s,r,l){return(0,a.wg)(),(0,a.iD)("button",W,[(0,a.WI)(e.$slots,"default",{},void 0,!0)])}var $={name:"my-button"};const L=(0,k.Z)($,[["render",D],["__scopeId","data-v-a8f050fc"]]);var U=L;const T=["value"];function O(e,t,o,s,r,l){return(0,a.wg)(),(0,a.iD)("input",{value:o.value,onInput:t[0]||(t[0]=(...e)=>l.updateInput&&l.updateInput(...e)),type:"text",name:"text",class:"input"},null,40,T)}var E={name:"my-input",props:{value:[Number,String]},methods:{updateInput(e){this.$emit("update:value",e.target.value)}}};const q=(0,k.Z)(E,[["render",O],["__scopeId","data-v-066fdc30"]]);var N=q;function j(e,t,o,r,l,n){return e.show?((0,a.wg)(),(0,a.iD)("div",{key:0,class:"dialog",onClick:t[1]||(t[1]=(...t)=>e.hideDialog&&e.hideDialog(...t))},[(0,a._)("div",{onClick:t[0]||(t[0]=(0,s.iM)((()=>{}),["stop"])),class:"dialog__content"},[(0,a.WI)(e.$slots,"default",{},void 0,!0)])])):(0,a.kq)("",!0)}var Z={props:{show:{type:Boolean,default:!1}},methods:{hideDialog(){this.$emit("update:show",!1)}}},M={name:"my-dialog",mixins:[Z]};const A=(0,k.Z)(M,[["render",j],["__scopeId","data-v-5a3cc983"]]);var B=A,F=o(3577);const Y={class:"text-4xl font-semibold italic text-left text-slate-900 mb-10 mt-14"},Q={class:"header-text"},R={class:"relative text-white"};function z(e,t,o,s,r,l){return(0,a.wg)(),(0,a.iD)("div",null,[(0,a._)("blockquote",Y,[(0,a._)("span",Q,[(0,a._)("h1",R,(0,F.zw)(o.header),1)])])])}var V={name:"my-header",props:{header:String}};const X=(0,k.Z)(V,[["render",z]]);var G=X,K=o.p+"img/it-img.3558535a.webp";const J={class:"flex justify-center items-center mt-10"},ee={class:"text-4xl text-center mb-5"},te=(0,a._)("img",{src:K,alt:"",class:"max-h-full min-w-full mb-3 rounded-lg"},null,-1);function oe(e,t,o,s,r,l){return(0,a.wg)(),(0,a.iD)("div",J,[(0,a._)("div",{class:"3d-card max-w-xl p-5 rounded-lg shadow-2xl cursor-pointer waves-effect waves-light",id:"tilt",onClick:t[0]||(t[0]=t=>e.$router.push("/hotels"))},[(0,a._)("h1",ee,(0,F.zw)(o.greeting),1),te])])}var se={name:"my-3d-card",props:{greeting:{type:String}},mounted(){let e=document.getElementById("tilt");const t=e.clientHeight,o=e.clientWidth;function s(s){const a=s.layerX,r=s.layerY,l=(a-o/2)/o*20,n=(r-t/2)/t*-20,i="perspective(500px) scale(1.1) rotateX("+n+"deg) rotateY("+l+"deg)";e.style.transform=i}e.addEventListener("mousemove",s),e.addEventListener("mouseout",(function(){e.style.transform="perspective(500px) scale(1) rotateX(0) rotateY(0)"})),e.addEventListener("mousedown",(function(){e.style.transform="perspective(500px) scale(0.9) rotateX(0) rotateY(0)"})),e.addEventListener("mouseup",(function(){e.style.transform="perspective(500px) scale(1.1) rotateX(0) rotateY(0)"}))}};const ae=(0,k.Z)(se,[["render",oe]]);var re=ae,le=[U,N,B,G,re];const ne={class:"container"};function ie(e,t,o,s,r,l){const n=(0,a.up)("my-3d-card"),i=(0,a.up)("footer-vue");return(0,a.wg)(),(0,a.iD)("div",ne,[(0,a.Wm)(n,{greeting:s.message},null,8,["greeting"]),(0,a.Wm)(i)])}var de=o(2262);const ce=(0,a._)("footer",{class:"page-footer"},[(0,a._)("div",{class:"footer-copyright h-12"},[(0,a._)("div",{class:"container"},[(0,a.Uk)(" Â© 2022 Copyright CNTT "),(0,a._)("a",{class:"grey-text text-lighten-4 right underline underline-offset-8 hover:underline-offset-4 duration-300 ease-out",href:"https://github.com/hoach-linux"},"GitHub")])])],-1),ue=[ce];function me(e,t,o,s,r,l){return(0,a.wg)(),(0,a.iD)("div",null,ue)}var pe={};const he=(0,k.Z)(pe,[["render",me]]);var fe=he,ve={components:{footerVue:fe},name:"MainPage",setup(){const e=(0,de.iH)("Welcome !"),t=(0,w.tv)(),o=(0,b.oR)(),s=JSON.parse(localStorage.getItem("userData"));return(0,a.bv)((async()=>{try{let t=await _().get("https://b876ad7f-dd71-4ed3-829a-b2488d40b627.selcdn.net/users",{headers:{Authorization:`Bearer ${localStorage.getItem("token")}`}});await o.dispatch("post/authTrue");const a=t.data.data.filter((e=>s.email===e.email));e.value=`Welcome ${a[0].first_name} ${a[0].last_name} !`}catch(a){t.push("/register")}})),{message:e}}};const ge=(0,k.Z)(ve,[["render",ie]]);var we=ge;const be={class:"container"},ye={class:"app__btns"},_e={key:1,style:{"will-change":"transform"},class:"posts-loading"},xe={class:"observer"};function ke(e,t,o,r,l,n){const i=(0,a.up)("my-input"),d=(0,a.up)("my-button"),c=(0,a.up)("hotel-form"),u=(0,a.up)("my-dialog"),m=(0,a.up)("my-header"),p=(0,a.up)("hotel-list"),h=(0,a.Q2)("intersection");return(0,a.wg)(),(0,a.j4)(s.uT,null,{default:(0,a.w5)((()=>[(0,a._)("div",be,[(0,a.Wm)(i,{value:r.searchQuery,"onUpdate:value":t[0]||(t[0]=e=>r.searchQuery=e),placeholder:"Search..."},null,8,["value"]),(0,a._)("div",ye,[(0,a.Wm)(d,{onClick:n.showDialog,class:"create-post flex-1 md:flex-auto m-0"},{default:(0,a.w5)((()=>[(0,a.Uk)("Create Hotel")])),_:1},8,["onClick"])]),((0,a.wg)(),(0,a.j4)(a.lR,{to:"body"},[(0,a.Wm)(s.uT,{name:"modal-show"},{default:(0,a.w5)((()=>[(0,a.Wm)(u,{show:l.dialogVisible,"onUpdate:show":t[1]||(t[1]=e=>l.dialogVisible=e),style:{"will-change":"transform"}},{default:(0,a.w5)((()=>[(0,a.Wm)(c,{onCreate:n.createPost},null,8,["onCreate"])])),_:1},8,["show"])])),_:1})])),(0,a.Wm)(m,{header:"Your Hotels"}),(0,a.Wm)(s.uT,{mode:"out-in"},{default:(0,a.w5)((()=>[r.isHotelLoading?((0,a.wg)(),(0,a.iD)("div",_e," Hotels Loading... ")):((0,a.wg)(),(0,a.j4)(p,{key:0,hotels:r.searchedHotels,onRemove:n.removePost,style:{"will-change":"transform"},class:"posts"},null,8,["hotels","onRemove"]))])),_:1}),(0,a.wy)((0,a._)("div",xe,null,512),[[h,r.loadMoreHotels]])])])),_:1})}o(541);const Pe=e=>((0,a.dD)("data-v-8d19a340"),e=e(),(0,a.Cn)(),e),Ce=Pe((()=>(0,a._)("h2",{class:"text-white text-4xl"},"Create Hotel",-1))),He=["value"],Ie=Pe((()=>(0,a._)("input",{type:"file",id:"file",class:"block w-full text-sm text-slate-500 file:mr-4 file:py-2 file:px-4 file:rounded-full file:border-0 file:text-sm file:font-semibold file:bg-violet-50 file:text-sky-600 hover:file:bg-blue-600 hover:file:text-white"},null,-1)));function Se(e,t,o,r,l,n){const i=(0,a.up)("my-input"),d=(0,a.up)("my-button"),c=(0,a.Q2)("focus");return(0,a.wg)(),(0,a.iD)("form",{onSubmit:t[2]||(t[2]=(0,s.iM)((()=>{}),["prevent"]))},[Ce,(0,a.wy)((0,a.Wm)(i,{value:l.hotel.title,"onUpdate:value":t[0]||(t[0]=e=>l.hotel.title=e),type:"text",placeholder:"Title",required:"",minlength:"1",class:"input-modal"},null,8,["value"]),[[c]]),(0,a._)("textarea",{name:"text",id:"",cols:"30",rows:"10",value:l.hotel.address,onInput:t[1]||(t[1]=e=>l.hotel.address=e.target.value),placeholder:"Address",required:"",minlength:"10",class:"input-modal"},null,40,He),Ie,(0,a.Wm)(d,{class:"btn",onClick:n.canClickBtn,type:"submit"},{default:(0,a.w5)((()=>[(0,a.Uk)("Create")])),_:1},8,["onClick"])],32)}var We={data(){return{hotel:{title:"",logo:"",address:""}}},methods:{createHotel(){this.file=document.getElementById("file"),this.$emit("create",this.hotel,this.file),this.hotel={title:"",logo:"",address:""}},canClickBtn(){this.file=document.getElementById("file");let e=document.querySelector(".input-modal");if(void 0==this.file.files[0]&&alert("Please choose a file"),e.value.length>=1&&void 0!=this.file.files[0])return this.createHotel()}},mounted(){}};const De=(0,k.Z)(We,[["render",Se],["__scopeId","data-v-8d19a340"]]);var $e=De;const Le={key:0,class:"hotels"},Ue={key:1,style:{color:"#c21e56","text-align":"center",display:"block"},class:"text-2xl"};function Te(e,t,o,r,l,n){const i=(0,a.up)("hotel-item");return this.hotels.length>0?((0,a.wg)(),(0,a.iD)("div",Le,[(0,a.Wm)(s.W3,{name:"hotel-list",mode:"out-in"},{default:(0,a.w5)((()=>[((0,a.wg)(!0),(0,a.iD)(a.HY,null,(0,a.Ko)(o.hotels,(t=>((0,a.wg)(),(0,a.j4)(i,{hotel:t,key:t.id,onRemove:o=>e.$emit("remove",t),style:{"will-change":"transform"}},null,8,["hotel","onRemove"])))),128))])),_:1})])):((0,a.wg)(),(0,a.iD)("h2",Ue," HOTEL LIST IS EMPTY! "))}const Oe={class:"post-wrapper"},Ee={class:"post min-w-full"},qe={class:"post-main title mb-8"},Ne={class:"img-wrapper"},je=["src"],Ze={class:"post-main first-line:uppercase first-line:tracking-widest first-letter:text-7xl first-letter:font-bold first-letter:text-white first-letter:mr-3 first-letter:float-left selection:bg-sky-300 selection:text-sky-900"},Me={class:"buttons"};function Ae(e,t,o,r,l,n){const i=(0,a.up)("my-button");return(0,a.wg)(),(0,a.iD)("div",Oe,[(0,a.Wm)(s.uT,{mode:"out-in"},{default:(0,a.w5)((()=>[(0,a._)("div",Ee,[(0,a._)("div",null,[(0,a._)("div",qe,(0,F.zw)(o.hotel.title),1),(0,a._)("div",Ne,[(0,a._)("img",{src:`https://b876ad7f-dd71-4ed3-829a-b2488d40b627.selcdn.net/assets/${o.hotel.logo}`,alt:"",class:"img"},null,8,je)]),(0,a._)("p",Ze,(0,F.zw)(o.hotel.address),1)]),(0,a._)("div",Me,[(0,a.Wm)(i,{class:"btn-read_more-post post-button",onClick:t[0]||(t[0]=t=>e.$router.push(`/hotels/${o.hotel.id}`))},{default:(0,a.w5)((()=>[(0,a.Uk)("Menu")])),_:1}),(0,a.Wm)(i,{class:"btn-delete-post post-button",onClick:t[1]||(t[1]=t=>e.$emit("remove",o.hotel))},{default:(0,a.w5)((()=>[(0,a.Uk)("Remove")])),_:1})])])])),_:1})])}var Be={data(){return{maxSymbol:300}},props:{hotel:{type:Object,required:!0}},methods:{truncate(e){null!=e.address&&(e.address=e.address.length>this.maxSymbol?`${e.address.slice(0,this.maxSymbol-1)}...`:e.address)}},mounted(){this.truncate(this.hotel)}};const Fe=(0,k.Z)(Be,[["render",Ae],["__scopeId","data-v-14c853b0"]]);var Ye=Fe,Qe={components:{hotelItem:Ye},props:{hotels:{type:Array,required:!0}}};const Re=(0,k.Z)(Qe,[["render",Te],["__scopeId","data-v-1ebd7942"]]);var ze=Re;function Ve(e){let t=(0,de.iH)(1);const o=(0,de.iH)("https://b876ad7f-dd71-4ed3-829a-b2488d40b627.selcdn.net"),s=(0,de.iH)("total_count"),r=(0,de.iH)([]),l=(0,de.iH)(0),n=(0,de.iH)(!0),i=async()=>{try{const a=await _().get(`${o.value}/items/hotels`,{params:{meta:s.value}});l.value=Math.ceil(a.data.meta.total_count/e),t.value=l.value;const i=await _().get(`${o.value}/items/hotels`,{params:{page:t.value,limit:e}});r.value=await i.data.data.reverse()}catch(a){console.log(a.name,a.message)}finally{setTimeout((()=>n.value=!1),0)}},d=async()=>{try{if(1!=t.value){t.value-=1;const s=await _().get(`${o.value}/items/hotels`,{params:{page:t.value,limit:e}});r.value=await([...r.value,...s.data.data.reverse()])}}catch(s){document.location.reload(!0)}};return(0,a.bv)(i),{hotels:r,totalPages:l,isHotelLoading:n,page:t,meta:s,serverUrl:o,loadMoreHotels:d}}function Xe(e){const t=(0,de.iH)(""),o=(0,a.Fl)((()=>[...e.value].sort(((e,o)=>e[t.value]?.localeCompare(o[t.value])))));return{selectedSort:t,sortedHotels:o}}function Ge(e){const t=(0,de.iH)(""),o=(0,a.Fl)((()=>e.value.filter((e=>e.title.toLowerCase().includes(t.value.toLowerCase())))));return{searchQuery:t,searchedHotels:o}}var Ke={components:{hotelList:ze,hotelForm:$e},data(){return{dialogVisible:!1}},setup(){const{hotels:e,totalPages:t,isHotelLoading:o,page:s,meta:a,serverUrl:r,loadMoreHotels:l}=Ve(10),{selectedSort:n,sortedHotels:i}=Xe(e),{searchQuery:d,searchedHotels:c}=Ge(i);return{hotels:e,totalPages:t,isHotelLoading:o,page:s,meta:a,serverUrl:r,loadMoreHotels:l,selectedSort:n,sortedHotels:i,searchQuery:d,searchedHotels:c}},methods:{...(0,b.nv)({}),...(0,b.OI)({}),createPost(e,t){this.dialogVisible=!1,this.pushHotelImage(t),setTimeout((()=>{_().get(`${this.serverUrl}/files?sort=uploaded_on`).then((t=>{let o=t.data.data;return _()({method:"post",url:`${this.serverUrl}/items/hotels`,data:{title:e.title,logo:o[o.length-1].id,address:e.address}}).then((()=>this.hotels.unshift(e))).then((()=>{document.location.reload(!0)}))}))}),1e3)},pushHotelImage(e){const t=new FormData;return console.log(e),t.append("title","Image"),t.append("file",e.files[0]),_().post(`${this.serverUrl}/files`,t)},removePost(e){try{return this.hotels=this.hotels.filter((t=>t.id!==e.id)),_()["delete"](`${this.serverUrl}/items/hotels/${e.id}`,{headers:{Authorization:`Bearer ${localStorage.getItem("token")}`}})}catch(t){alert("You are not registered")}},showDialog(){this.dialogVisible=!0},changePage(e){this.page=e}},computed:{...(0,b.rn)({metaAll:e=>e.post.metaAll,totalPages:e=>e.post.totalPages,sortOptions:e=>e.post.sortOptions}),...(0,b.Se)({})},mounted(){}};const Je=(0,k.Z)(Ke,[["render",ke]]);var et=Je;const tt={class:"post-id-page container"},ot=["post"],st={class:"post min-w-full"},at={class:"post-main title mb-8"},rt={class:"img-wrapper"},lt=["src"],nt={class:"post-main first-line:uppercase first-line:tracking-widest first-letter:text-7xl first-letter:font-bold first-letter:text-white first-letter:mr-3 first-letter:float-left selection:bg-sky-300 selection:text-sky-900"};function it(e,t,o,s,r,l){const n=(0,a.up)("font-awesome-icon");return(0,a.wg)(),(0,a.iD)("div",tt,[(0,a.Wm)(n,{icon:"fa-solid fa-arrow-left",class:"return waves-effect waves-light",onClick:t[0]||(t[0]=t=>e.$router.push("/hotels"))}),((0,a.wg)(!0),(0,a.iD)(a.HY,null,(0,a.Ko)(r.posts,(e=>((0,a.wg)(),(0,a.iD)("div",{post:e,key:e.id,style:{"will-change":"transform"}},[(0,a._)("div",st,[(0,a._)("div",null,[(0,a._)("div",at,(0,F.zw)(e.title),1),(0,a._)("div",rt,[(0,a._)("img",{src:`https://b876ad7f-dd71-4ed3-829a-b2488d40b627.selcdn.net/assets/${e.image}`,alt:"",class:"img"},null,8,lt)]),(0,a._)("p",nt,(0,F.zw)(e.body),1)])])],8,ot)))),128))])}var dt={components:{hotelItem:Ye},data(){return{posts:[]}},methods:{filterPost(){this.posts=this.posts.filter((e=>e.id==this.$route.params.id))},async fetchPost(){try{const e=await _().get(this.$store.state.post.serverUrl);this.posts=e.data.data,this.filterPost()}catch(e){}}},mounted(){this.fetchPost()}};const ct=(0,k.Z)(dt,[["render",it]]);var ut=ct;const mt=e=>((0,a.dD)("data-v-080ceefe"),e=e(),(0,a.Cn)(),e),pt={class:"flex justify-center items-center min-h-screen container"},ht=mt((()=>(0,a._)("h1",{class:"text-4xl mb-5"},"Sign in",-1)));function ft(e,t,o,r,l,n){const i=(0,a.up)("my-input"),d=(0,a.up)("my-button");return(0,a.wg)(),(0,a.iD)("div",pt,[(0,a._)("form",{class:"flex flex-col p-5 rounded-xl w-96 register-form",onSubmit:t[5]||(t[5]=(0,s.iM)(((...e)=>r.submit&&r.submit(...e)),["prevent"]))},[ht,(0,a.Wm)(i,{value:r.data.firstName,"onUpdate:value":t[0]||(t[0]=e=>r.data.firstName=e),type:"text",placeholder:"First Name",required:""},null,8,["value"]),(0,a.Wm)(i,{value:r.data.lastName,"onUpdate:value":t[1]||(t[1]=e=>r.data.lastName=e),type:"text",placeholder:"Last Name",required:""},null,8,["value"]),(0,a.Wm)(i,{value:r.data.email,"onUpdate:value":t[2]||(t[2]=e=>r.data.email=e),type:"email",placeholder:"Email",required:""},null,8,["value"]),(0,a.Wm)(i,{value:r.data.password,"onUpdate:value":t[3]||(t[3]=e=>r.data.password=e),type:"password",placeholder:"Password",required:""},null,8,["value"]),(0,a.Wm)(d,{type:"submit",class:"btn-register border-solid border-blue-700 border-2 text-white mt-1"},{default:(0,a.w5)((()=>[(0,a.Uk)("Continue")])),_:1}),(0,a._)("p",{onClick:t[4]||(t[4]=t=>e.$router.push("/login")),class:"text-right cursor-pointer mt-2 underline underline-offset-8 hover:underline-offset-4 duration-300 hover:text-blue-400 ease-out"}," I have an account ")],32)])}var vt={name:"Register",setup(){const e=(0,de.qj)({firstName:"",lastName:"",role:"4e967166-975d-4a12-8fd8-e3fdb9e5be54",email:"",password:""}),t=(0,w.tv)(),o=async()=>{await _().post("https://b876ad7f-dd71-4ed3-829a-b2488d40b627.selcdn.net/users",{first_name:e.firstName,last_name:e.lastName,email:e.email,password:e.password,role:e.role}),await t.push("/login")};return{data:e,submit:o}}};const gt=(0,k.Z)(vt,[["render",ft],["__scopeId","data-v-080ceefe"]]);var wt=gt;const bt=e=>((0,a.dD)("data-v-029fe3b6"),e=e(),(0,a.Cn)(),e),yt={class:"flex justify-center items-center min-h-screen container"},_t=bt((()=>(0,a._)("h1",{class:"text-4xl mb-5"},"Log in",-1)));function xt(e,t,o,r,l,n){const i=(0,a.up)("my-input"),d=(0,a.up)("my-button");return(0,a.wg)(),(0,a.iD)("div",yt,[(0,a._)("form",{class:"flex flex-col bg-gray-900 p-5 rounded-xl w-96 login-form",onSubmit:t[3]||(t[3]=(0,s.iM)(((...e)=>r.submit&&r.submit(...e)),["prevent"]))},[_t,(0,a.Wm)(i,{value:r.data.email,"onUpdate:value":t[0]||(t[0]=e=>r.data.email=e),type:"email",placeholder:"Email",required:""},null,8,["value"]),(0,a.Wm)(i,{value:r.data.password,"onUpdate:value":t[1]||(t[1]=e=>r.data.password=e),type:"password",placeholder:"Password",required:""},null,8,["value"]),(0,a.Wm)(d,{type:"submit",class:"btn-register border-solid border-blue-700 border-2 text-white mt-1"},{default:(0,a.w5)((()=>[(0,a.Uk)("Continue")])),_:1}),(0,a._)("p",{onClick:t[2]||(t[2]=t=>e.$router.push("/register")),class:"text-right cursor-pointer mt-2 underline underline-offset-8 hover:underline-offset-4 duration-300 hover:text-blue-400 ease-out"},"Register")],32)])}var kt={name:"Login",setup(){const e=(0,de.qj)({email:"",password:""}),t=(0,w.tv)(),o=async()=>{try{let o=await _().post("https://b876ad7f-dd71-4ed3-829a-b2488d40b627.selcdn.net/auth/login",{email:e.email,password:e.password});await localStorage.setItem("userData",o.config.data),await localStorage.setItem("token",o.data.data.access_token),await localStorage.setItem("refresh_token",o.data.data.refresh_token),await t.push("/")}catch(o){alert("Wrong email or password")}};return{data:e,submit:o}}};const Pt=(0,k.Z)(kt,[["render",xt],["__scopeId","data-v-029fe3b6"]]);var Ct=Pt;const Ht=[{path:"/",meta:{auth:!0},component:we},{path:"/hotels",component:et,name:"hotels"},{path:"/hotels/:id",meta:{auth:!0},component:ut},{path:"/register",component:wt,name:"register"},{path:"/login",component:Ct}],It=(0,w.p7)({routes:Ht,history:(0,w.PO)("/")});It.beforeEach(((e,t,o)=>{const s=localStorage.getItem("token"),a=e.matched.some((e=>e.meta.auth));!s&&a?o("/register"):o()}));var St=It,Wt={mounted(e){e.focus()},name:"focus"},Dt={mounted(e,t){const o={rootMargin:"0px",threshold:1},s=(e,o)=>{e[0].isIntersecting&&t.value()},a=new IntersectionObserver(s,o);a.observe(e)},name:"intersection"},$t=[Wt,Dt];const Lt={state:()=>({authenticated:!1,auth:null,posts:[],isPostLoading:!1,dark:!1,root:null,selectedSort:"",searchQuery:"",page:1,limit:1,metaAll:0,meta:"total_count",totalPages:0,serverUrl:"https://b876ad7f-dd71-4ed3-829a-b2488d40b627.selcdn.net/items/posts",sortOptions:[{value:"title",name:"Title"},{value:"body",name:"Description"}]}),getters:{sortedPosts(e){return[...e.posts].sort(((t,o)=>t[e.selectedSort]?.localeCompare(o[e.selectedSort])))},searchedPosts(e,t){return t.sortedPosts.filter((t=>t.title.toLowerCase().includes(e.searchQuery.toLowerCase())))}},mutations:{setPosts(e,t){e.posts=t},setPostLoading(e,t){e.isPostLoading=t},setPage(e,t){e.page=t},setSelectedSort(e,t){e.selectedSort=t},setTotalPages(e,t){e.totalPages=t},setSearchQuery(e,t){e.searchQuery=t},setAuth(e,t){e.authenticated=t}},actions:{authTrue({state:e,commit:t}){t("setAuth",e.auth=!0)},authFalse({state:e,commit:t}){t("setAuth",e.auth=!1)}},namespaced:!0};var Ut=(0,b.MT)({modules:{post:Lt}}),Tt=o(5205);(0,Tt.z)("/service-worker.js",{ready(){console.log("App is being served from cache by a service worker.\nFor more details, visit https://goo.gl/AFskqB")},registered(){console.log("Service worker has been registered.")},cached(){console.log("Content has been cached for offline use.")},updatefound(){console.log("New content is downloading.")},updated(){console.log("New content is available; please refresh.")},offline(){console.log("No internet connection found. App is running in offline mode.")},error(e){console.error("Error during service worker registration:",e)}});var Ot=o(3636),Et=o(7810),qt=o(9417),Nt=o(5779);o(4415);Ot.vI.add(qt.M_6,qt.DBf,qt.acZ,qt.mXR,qt.r5q,qt.Ht4);const jt=(0,s.ri)(S);le.forEach((e=>{jt.component(e.name,e)})),$t.forEach((e=>{jt.directive(e.name,e)})),document.addEventListener("DOMContentLoaded",(()=>{jt.use(Nt.Z),jt.use(Ut).use(St).component("font-awesome-icon",Et.GN).mount("#app")}))}},t={};function o(s){var a=t[s];if(void 0!==a)return a.exports;var r=t[s]={exports:{}};return e[s].call(r.exports,r,r.exports,o),r.exports}o.m=e,function(){var e=[];o.O=function(t,s,a,r){if(!s){var l=1/0;for(c=0;c<e.length;c++){s=e[c][0],a=e[c][1],r=e[c][2];for(var n=!0,i=0;i<s.length;i++)(!1&r||l>=r)&&Object.keys(o.O).every((function(e){return o.O[e](s[i])}))?s.splice(i--,1):(n=!1,r<l&&(l=r));if(n){e.splice(c--,1);var d=a();void 0!==d&&(t=d)}}return t}r=r||0;for(var c=e.length;c>0&&e[c-1][2]>r;c--)e[c]=e[c-1];e[c]=[s,a,r]}}(),function(){o.n=function(e){var t=e&&e.__esModule?function(){return e["default"]}:function(){return e};return o.d(t,{a:t}),t}}(),function(){o.d=function(e,t){for(var s in t)o.o(t,s)&&!o.o(e,s)&&Object.defineProperty(e,s,{enumerable:!0,get:t[s]})}}(),function(){o.g=function(){if("object"===typeof globalThis)return globalThis;try{return this||new Function("return this")()}catch(e){if("object"===typeof window)return window}}()}(),function(){o.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)}}(),function(){o.p="/"}(),function(){var e={143:0};o.O.j=function(t){return 0===e[t]};var t=function(t,s){var a,r,l=s[0],n=s[1],i=s[2],d=0;if(l.some((function(t){return 0!==e[t]}))){for(a in n)o.o(n,a)&&(o.m[a]=n[a]);if(i)var c=i(o)}for(t&&t(s);d<l.length;d++)r=l[d],o.o(e,r)&&e[r]&&e[r][0](),e[r]=0;return o.O(c)},s=self["webpackChunkCNTT"]=self["webpackChunkCNTT"]||[];s.forEach(t.bind(null,0)),s.push=t.bind(null,s.push.bind(s))}();var s=o.O(void 0,[998],(function(){return o(3413)}));s=o.O(s)})();
//# sourceMappingURL=app.52fad4f0.js.map