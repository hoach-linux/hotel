(function(){"use strict";var t={2962:function(t,e,o){var s=o(9963),r=o(6252);const n={class:"app"};function a(t,e,o,a,l,i){const c=(0,r.up)("navbar"),u=(0,r.up)("router-view");return(0,r.wg)(),(0,r.iD)(r.HY,null,[(0,r.Wm)(c),(0,r._)("div",n,[(0,r.Wm)(u,null,{default:(0,r.w5)((({Component:t})=>[(0,r.Wm)(s.uT,{name:"fade",mode:"out-in"},{default:(0,r.w5)((()=>[((0,r.wg)(),(0,r.j4)((0,r.LL)(t)))])),_:2},1024)])),_:1})])],64)}o(7658);var l=o.p+"img/logo.965b105d.png";const i=t=>((0,r.dD)("data-v-759881b4"),t=t(),(0,r.Cn)(),t),c=i((()=>(0,r._)("div",{class:"navbar-head"},null,-1))),u={class:"navbar"},d=i((()=>(0,r._)("img",{src:l,alt:"",class:"logo"},null,-1))),p=[d],m={class:"navbar__btn"},v=i((()=>(0,r._)("div",{class:"activeBtn"},null,-1))),h={class:"navbar__btn bottombar__btn"},f=i((()=>(0,r._)("p",null,"Posts",-1))),g=i((()=>(0,r._)("p",null,"About",-1))),y=i((()=>(0,r._)("div",{class:"activeBtn"},null,-1)));function b(t,e,o,s,n,a){const l=(0,r.up)("my-button"),i=(0,r.up)("font-awesome-icon");return(0,r.wg)(),(0,r.iD)(r.HY,null,[c,(0,r._)("div",u,[(0,r._)("div",{style:{cursor:"pointer",color:"#000"},onClick:e[0]||(e[0]=e=>t.$router.push("/")),class:"icon"},p),(0,r._)("div",m,[(0,r.Wm)(l,{onClick:e[1]||(e[1]=e=>t.$router.push("/posts"))},{default:(0,r.w5)((()=>[(0,r.Uk)("Posts")])),_:1}),(0,r.Wm)(l,{onClick:e[2]||(e[2]=e=>t.$router.push("/about"))},{default:(0,r.w5)((()=>[(0,r.Uk)("About")])),_:1}),v])]),(0,r._)("div",h,[(0,r.Wm)(l,{onClick:e[3]||(e[3]=e=>t.$router.push("/posts"))},{default:(0,r.w5)((()=>[(0,r.Wm)(i,{icon:"fa-solid fa-blog"}),f])),_:1}),(0,r.Wm)(l,{onClick:e[4]||(e[4]=e=>t.$router.push("/about"))},{default:(0,r.w5)((()=>[(0,r.Wm)(i,{icon:"fa-solid fa-circle-info"}),g])),_:1}),y])],64)}var w={mounted(){const t=document.querySelectorAll(".navbar__btn > button");document.querySelector(".icon");function e(){t.forEach((t=>{t.addEventListener("click",(()=>{o(),t.classList.add("active")}))}))}function o(){t.forEach((t=>{t.classList.remove("active")}))}e()}},_=o(3744);const P=(0,_.Z)(w,[["render",b],["__scopeId","data-v-759881b4"]]);var k=P,C={components:{Navbar:k},data(){return{dark:!1,root:null}},mounted(){this.root=document.documentElement},watch:{dark:{handler:function(){this.$nextTick((()=>{this.dark?(this.root.style.setProperty("--main-background-color","#f2f2f2"),this.root.style.setProperty("--dark-background-color","#000"),this.root.style.setProperty("--main-text-color","#000"),this.root.style.setProperty("--white-text-color","#fff"),this.root.style.setProperty("--white-color","#fff"),this.root.style.setProperty("--main-button-color","#42b883"),this.root.style.setProperty("--delete-color","#c21e56"),this.root.style.setProperty("--page-wrapper-bg","rgba(32, 32, 32, 0.1)")):(this.root.style.setProperty("--main-background-color","#000"),this.root.style.setProperty("--dark-background-color","#fff"),this.root.style.setProperty("--main-text-color","#fff"),this.root.style.setProperty("--white-text-color","#000"),this.root.style.setProperty("--white-color","#202124"),this.root.style.setProperty("--main-button-color","#2EE59D"),this.root.style.setProperty("--delete-color","#fa0b5b"),this.root.style.setProperty("--page-wrapper-bg","rgb(31 255 131 / 10%)"))}))},immediate:!0}}};const x=(0,_.Z)(C,[["render",a]]);var S=x;const D={class:"btn"};function W(t,e,o,s,n,a){return(0,r.wg)(),(0,r.iD)("button",D,[(0,r.WI)(t.$slots,"default",{},void 0,!0)])}var $={name:"my-button"};const I=(0,_.Z)($,[["render",W],["__scopeId","data-v-2a986e26"]]);var O=I;const T=["value"];function U(t,e,o,s,n,a){return(0,r.wg)(),(0,r.iD)("input",{value:o.value,onInput:e[0]||(e[0]=(...t)=>a.updateInput&&a.updateInput(...t)),type:"text",name:"text",class:"input"},null,40,T)}var L={name:"my-input",props:{value:[Number,String]},methods:{updateInput(t){this.$emit("update:value",t.target.value)}}};const H=(0,_.Z)(L,[["render",U],["__scopeId","data-v-066fdc30"]]);var M=H;function Z(t,e,o,n,a,l){return t.show?((0,r.wg)(),(0,r.iD)("div",{key:0,class:"dialog",onClick:e[1]||(e[1]=(...e)=>t.hideDialog&&t.hideDialog(...e))},[(0,r._)("div",{onClick:e[0]||(e[0]=(0,s.iM)((()=>{}),["stop"])),class:"dialog__content"},[(0,r.WI)(t.$slots,"default",{},void 0,!0)])])):(0,r.kq)("",!0)}var j={props:{show:{type:Boolean,default:!1}},methods:{hideDialog(){this.$emit("update:show",!1)}}},Q={name:"my-dialog",mixins:[j]};const V=(0,_.Z)(Q,[["render",Z],["__scopeId","data-v-3bd40fcd"]]);var A=V,E=[O,M,A];const q=(0,r._)("h1",{class:"text-4xl text-center"},"Welcome !",-1),N=(0,r._)("p",{class:"text-center mt-5"},"Here you can see posts from other people",-1),B=[q,N];function F(t,e,o,s,n,a){return(0,r.wg)(),(0,r.iD)("div",null,B)}var R={};const Y=(0,_.Z)(R,[["render",F]]);var z=Y;const K={class:"app__btns"},G={key:1,style:{"will-change":"transform"},class:"posts-loading"},J={class:"observer"};function X(t,e,o,n,a,l){const i=(0,r.up)("my-input"),c=(0,r.up)("my-button"),u=(0,r.up)("my-select"),d=(0,r.up)("post-form"),p=(0,r.up)("my-dialog"),m=(0,r.up)("post-list"),v=(0,r.Q2)("intersection");return(0,r.wg)(),(0,r.j4)(s.uT,null,{default:(0,r.w5)((()=>[(0,r._)("div",null,[(0,r.Wm)(i,{value:n.searchQuery,"onUpdate:value":e[0]||(e[0]=t=>n.searchQuery=t),placeholder:"Search..."},null,8,["value"]),(0,r._)("div",K,[(0,r.Wm)(c,{onClick:l.showDialog,class:"create-post"},{default:(0,r.w5)((()=>[(0,r.Uk)("Create Post")])),_:1},8,["onClick"]),(0,r.Wm)(u,{modelValue:n.selectedSort,"onUpdate:modelValue":e[1]||(e[1]=t=>n.selectedSort=t),class:"select",options:t.sortOptions},null,8,["modelValue","options"])]),(0,r.Wm)(s.uT,{name:"modal-show"},{default:(0,r.w5)((()=>[(0,r.Wm)(p,{show:a.dialogVisible,"onUpdate:show":e[2]||(e[2]=t=>a.dialogVisible=t),style:{"will-change":"transform"}},{default:(0,r.w5)((()=>[(0,r.Wm)(d,{onCreate:l.createPost},null,8,["onCreate"])])),_:1},8,["show"])])),_:1}),(0,r.Wm)(s.uT,{mode:"out-in"},{default:(0,r.w5)((()=>[n.isPostLoading?((0,r.wg)(),(0,r.iD)("div",G," Posts Loading... ")):((0,r.wg)(),(0,r.j4)(m,{key:0,posts:n.searchedPosts,onRemove:l.removePost,style:{"will-change":"transform"},class:"posts"},null,8,["posts","onRemove"]))])),_:1}),(0,r.wy)((0,r._)("div",J,null,512),[[v,n.loadMorePosts]])])])),_:1})}o(541);const tt=t=>((0,r.dD)("data-v-44b44603"),t=t(),(0,r.Cn)(),t),et=tt((()=>(0,r._)("h2",{style:{color:"var(--main-text-color)"}},"Create Post",-1))),ot=tt((()=>(0,r._)("input",{type:"file",id:"file",class:"block w-full text-sm text-slate-500 file:mr-4 file:py-2 file:px-4 file:rounded-full file:border-0 file:text-sm file:font-semibold file:bg-violet-50 file:text-sky-600 hover:file:bg-blue-600 hover:file:text-white"},null,-1)));function st(t,e,o,n,a,l){const i=(0,r.up)("my-input"),c=(0,r.up)("my-button"),u=(0,r.Q2)("focus");return(0,r.wg)(),(0,r.iD)("form",{onSubmit:e[2]||(e[2]=(0,s.iM)((()=>{}),["prevent"]))},[et,(0,r.wy)((0,r.Wm)(i,{value:a.post.title,"onUpdate:value":e[0]||(e[0]=t=>a.post.title=t),type:"text",placeholder:"Title",required:"",minlength:"1",class:"input-modal"},null,8,["value"]),[[u]]),(0,r.Wm)(i,{value:a.post.body,onInput:e[1]||(e[1]=t=>a.post.body=t.target.value),type:"text",placeholder:"Description",required:"",minlength:"1",class:"input-modal"},null,8,["value"]),ot,(0,r.Wm)(c,{class:"btn",onClick:l.canClickBtn,type:"submit"},{default:(0,r.w5)((()=>[(0,r.Uk)("Create")])),_:1},8,["onClick"])],32)}var rt={data(){return{post:{title:"",image:"",body:""}}},methods:{createPost(){this.file=document.getElementById("file"),this.$emit("create",this.post,this.file),console.log(this.file),this.post={title:"",image:"",body:""}},canClickBtn(){let t=document.querySelector(".input-modal");if(t.value.length>=1)return this.createPost()}},mounted(){}};const nt=(0,_.Z)(rt,[["render",st],["__scopeId","data-v-44b44603"]]);var at=nt;const lt={key:0,class:"posts"},it={key:1,style:{color:"#c21e56","text-align":"center",display:"block"}};function ct(t,e,o,n,a,l){const i=(0,r.up)("post-item");return this.posts.length>0?((0,r.wg)(),(0,r.iD)("div",lt,[(0,r.Wm)(s.W3,{name:"post-list",mode:"out-in"},{default:(0,r.w5)((()=>[((0,r.wg)(!0),(0,r.iD)(r.HY,null,(0,r.Ko)(o.posts,(e=>((0,r.wg)(),(0,r.j4)(i,{post:e,key:e.id,onRemove:o=>t.$emit("remove",e),style:{"will-change":"transform"}},null,8,["post","onRemove"])))),128))])),_:1})])):((0,r.wg)(),(0,r.iD)("h2",it," POST LIST IS EMPTY! "))}var ut=o(3577);const dt={class:"post-wrapper"},pt={class:"post"},mt={class:"post-main title"},vt={class:"img-wrapper"},ht=["src"],ft={class:"post-main"},gt={class:"buttons"};function yt(t,e,o,n,a,l){const i=(0,r.up)("my-button");return(0,r.wg)(),(0,r.iD)("div",dt,[(0,r.Wm)(s.uT,{mode:"out-in"},{default:(0,r.w5)((()=>[(0,r._)("div",pt,[(0,r._)("div",null,[(0,r._)("div",mt,(0,ut.zw)(o.post.title),1),(0,r._)("div",vt,[(0,r._)("img",{src:`http://91.105.198.56/assets/${o.post.image}`,alt:"",class:"img"},null,8,ht)]),(0,r._)("div",ft,(0,ut.zw)(o.post.body),1)]),(0,r._)("div",gt,[(0,r.Wm)(i,{class:"btn-read_more-post post-button",onClick:e[0]||(e[0]=e=>t.$router.push(`/posts/${o.post.id}`))},{default:(0,r.w5)((()=>[(0,r.Uk)("Read More")])),_:1}),(0,r.Wm)(i,{class:"btn-delete-post post-button",onClick:e[1]||(e[1]=e=>t.$emit("remove",o.post))},{default:(0,r.w5)((()=>[(0,r.Uk)("Remove")])),_:1})])])])),_:1})])}var bt={props:{post:{type:Object,required:!0}}};const wt=(0,_.Z)(bt,[["render",yt],["__scopeId","data-v-7dcd21a1"]]);var _t=wt,Pt={components:{postItem:_t},props:{posts:{type:Array,required:!0}}};const kt=(0,_.Z)(Pt,[["render",ct],["__scopeId","data-v-4acd26f4"]]);var Ct=kt;const xt=t=>((0,r.dD)("data-v-5db465aa"),t=t(),(0,r.Cn)(),t),St=xt((()=>(0,r._)("option",{disabled:"",value:""},"Select",-1))),Dt=["value"];function Wt(t,e,o,n,a,l){return(0,r.wy)(((0,r.wg)(),(0,r.iD)("select",{"onUpdate:modelValue":e[0]||(e[0]=t=>o.modelValue=t),onChange:e[1]||(e[1]=(...t)=>l.changeOption&&l.changeOption(...t))},[St,((0,r.wg)(!0),(0,r.iD)(r.HY,null,(0,r.Ko)(o.options,(t=>((0,r.wg)(),(0,r.iD)("option",{key:t.value,value:t.value},(0,ut.zw)(t.name),9,Dt)))),128))],544)),[[s.bM,o.modelValue]])}var $t={name:"my-select",props:{modelValue:{type:String},options:{type:Array,default:()=>[]}},methods:{changeOption(t){this.$emit("update:modelValue",t.target.value)}}};const It=(0,_.Z)($t,[["render",Wt],["__scopeId","data-v-5db465aa"]]);var Ot=It,Tt=o(9669),Ut=o.n(Tt),Lt=o(3907),Ht=o(2262);function Mt(t){let e=(0,Ht.iH)(1);const o=(0,Ht.iH)("http://91.105.198.56"),s=(0,Ht.iH)("total_count"),n=(0,Ht.iH)([]),a=(0,Ht.iH)(0),l=(0,Ht.iH)(!0),i=async()=>{try{const r=await Ut().get(`${o.value}/items/posts`,{params:{page:e.value,limit:t,meta:s.value}});a.value=Math.ceil(r.data.meta.total_count/t),n.value=await r.data.data}catch(r){console.log(r.name,r.message)}finally{setTimeout((()=>l.value=!1),0)}},c=async()=>{try{e.value+=1;const s=await Ut().get(`${o.value}/items/posts`,{params:{page:e.value,limit:t}});n.value=await([...n.value,...s.data.data])}catch(s){document.location.reload(!0)}};return(0,r.bv)(i),{posts:n,totalPages:a,isPostLoading:l,page:e,meta:s,serverUrl:o,loadMorePosts:c}}function Zt(t){const e=(0,Ht.iH)(""),o=(0,r.Fl)((()=>[...t.value].sort(((t,o)=>t[e.value]?.localeCompare(o[e.value])))));return{selectedSort:e,sortedPosts:o}}function jt(t){const e=(0,Ht.iH)(""),o=(0,r.Fl)((()=>t.value.filter((t=>t.title.toLowerCase().includes(e.value.toLowerCase())))));return{searchQuery:e,searchedPosts:o}}var Qt={components:{postList:Ct,postForm:at,MySelect:Ot},data(){return{dialogVisible:!1}},setup(t){const{posts:e,totalPages:o,isPostLoading:s,page:r,meta:n,serverUrl:a,loadMorePosts:l}=Mt(10),{selectedSort:i,sortedPosts:c}=Zt(e),{searchQuery:u,searchedPosts:d}=jt(c);return{posts:e,totalPages:o,isPostLoading:s,page:r,meta:n,serverUrl:a,loadMorePosts:l,selectedSort:i,sortedPosts:c,searchQuery:u,searchedPosts:d}},methods:{...(0,Lt.nv)({}),...(0,Lt.OI)({setPage:"post/setPage",setSearchQuery:"post/setSearchQuery",setSelectedSort:"post/setSelectedSort"}),reversePosts(){this.posts.reverse()},createPost(t,e){console.log(e),this.posts.unshift(t),this.dialogVisible=!1,this.pushPostImage(e),setTimeout((()=>{Ut().get(`${this.serverUrl}/files?sort=uploaded_on`).then((e=>{let o=e.data.data;return Ut().post(`${this.serverUrl}/items/posts`,{title:t.title,image:o[o.length-1].id,body:t.body}).then((()=>{document.location.reload(!0)}))}))}),1e3)},pushPostImage(t){const e=new FormData;return console.log(t),e.append("title","Image"),e.append("file",t.files[0]),Ut().post(`${this.serverUrl}/files`,e)},removePost(t){return this.posts=this.posts.filter((e=>e.id!==t.id)),Ut()["delete"](`${this.serverUrl}/items/posts/${t.id}`)},showDialog(){this.dialogVisible=!0},changePage(t){this.page=t}},computed:{...(0,Lt.rn)({metaAll:t=>t.post.metaAll,totalPages:t=>t.post.totalPages,sortOptions:t=>t.post.sortOptions}),...(0,Lt.Se)({})}};const Vt=(0,_.Z)(Qt,[["render",X]]);var At=Vt;const Et=(0,r._)("h1",{class:"text-4xl text-center"},"About site",-1),qt=(0,r._)("p",{class:"text-center mt-5"},[(0,r.Uk)("This website was build by "),(0,r._)("a",{href:"https://hoach.ru",class:"text-blue-500 underline underline-offset-8"},"Nguyen Tien Hoach"),(0,r.Uk)(" with love ❤ ")],-1),Nt=[Et,qt];function Bt(t,e,o,s,n,a){return(0,r.wg)(),(0,r.iD)("div",null,Nt)}var Ft={};const Rt=(0,_.Z)(Ft,[["render",Bt]]);var Yt=Rt;function zt(t,e,o,s,n,a){const l=(0,r.up)("font-awesome-icon"),i=(0,r.up)("post-item");return(0,r.wg)(),(0,r.iD)("div",null,[(0,r.Wm)(l,{icon:"fa-solid fa-arrow-left",class:"return",onClick:e[0]||(e[0]=e=>t.$router.push("/posts"))}),(0,r._)("h1",null,"Page with id post: "+(0,ut.zw)(t.$route.params.id),1),((0,r.wg)(!0),(0,r.iD)(r.HY,null,(0,r.Ko)(n.posts,(t=>((0,r.wg)(),(0,r.j4)(i,{post:t,key:t.id,style:{"will-change":"transform"}},null,8,["post"])))),128))])}var Kt={components:{postItem:_t},data(){return{posts:[]}},methods:{filterPost(){this.posts=this.posts.filter((t=>t.id==this.$route.params.id))},async fetchPost(){try{const t=await Ut().get(this.$store.state.post.serverUrl);this.posts=t.data.data,this.filterPost()}catch(t){}}},mounted(){this.fetchPost()}};const Gt=(0,_.Z)(Kt,[["render",zt]]);var Jt=Gt,Xt=o(2201);const te=[{path:"/",component:z},{path:"/posts",component:At},{path:"/about",component:Yt},{path:"/posts/:id",component:Jt}],ee=(0,Xt.p7)({routes:te,history:(0,Xt.PO)("/")});var oe=ee,se={mounted(t){t.focus()},name:"focus"},re={mounted(t,e){const o={rootMargin:"0px",threshold:1},s=(t,o)=>{t[0].isIntersecting&&e.value()},r=new IntersectionObserver(s,o);r.observe(t)},name:"intersection"},ne=[se,re];const ae={state:()=>({posts:[],isPostLoading:!1,dark:!1,root:null,selectedSort:"",searchQuery:"",page:1,limit:1,metaAll:0,meta:"total_count",totalPages:0,serverUrl:"https://b876ad7f-dd71-4ed3-829a-b2488d40b627.selcdn.net/items/posts",sortOptions:[{value:"title",name:"Title"},{value:"body",name:"Description"}]}),getters:{sortedPosts(t){return[...t.posts].sort(((e,o)=>e[t.selectedSort]?.localeCompare(o[t.selectedSort])))},searchedPosts(t,e){return e.sortedPosts.filter((e=>e.title.toLowerCase().includes(t.searchQuery.toLowerCase())))}},mutations:{setPosts(t,e){t.posts=e},setPostLoading(t,e){t.isPostLoading=e},setPage(t,e){t.page=e},setSelectedSort(t,e){t.selectedSort=e},setTotalPages(t,e){t.totalPages=e},setSearchQuery(t,e){t.searchQuery=e}},actions:{},namespaced:!0};var le=(0,Lt.MT)({modules:{post:ae}}),ie=o(5205);(0,ie.z)("/service-worker.js",{ready(){console.log("App is being served from cache by a service worker.\nFor more details, visit https://goo.gl/AFskqB")},registered(){console.log("Service worker has been registered.")},cached(){console.log("Content has been cached for offline use.")},updatefound(){console.log("New content is downloading.")},updated(){console.log("New content is available; please refresh.")},offline(){console.log("No internet connection found. App is running in offline mode.")},error(t){console.error("Error during service worker registration:",t)}});var ce=o(3636),ue=o(7810),de=o(9417);ce.vI.add(de.M_6,de.DBf,de.acZ);const pe=(0,s.ri)(S);E.forEach((t=>{pe.component(t.name,t)})),ne.forEach((t=>{pe.directive(t.name,t)})),pe.use(le).use(oe).component("font-awesome-icon",ue.GN).mount("#app")}},e={};function o(s){var r=e[s];if(void 0!==r)return r.exports;var n=e[s]={exports:{}};return t[s](n,n.exports,o),n.exports}o.m=t,function(){var t=[];o.O=function(e,s,r,n){if(!s){var a=1/0;for(u=0;u<t.length;u++){s=t[u][0],r=t[u][1],n=t[u][2];for(var l=!0,i=0;i<s.length;i++)(!1&n||a>=n)&&Object.keys(o.O).every((function(t){return o.O[t](s[i])}))?s.splice(i--,1):(l=!1,n<a&&(a=n));if(l){t.splice(u--,1);var c=r();void 0!==c&&(e=c)}}return e}n=n||0;for(var u=t.length;u>0&&t[u-1][2]>n;u--)t[u]=t[u-1];t[u]=[s,r,n]}}(),function(){o.n=function(t){var e=t&&t.__esModule?function(){return t["default"]}:function(){return t};return o.d(e,{a:e}),e}}(),function(){o.d=function(t,e){for(var s in e)o.o(e,s)&&!o.o(t,s)&&Object.defineProperty(t,s,{enumerable:!0,get:e[s]})}}(),function(){o.g=function(){if("object"===typeof globalThis)return globalThis;try{return this||new Function("return this")()}catch(t){if("object"===typeof window)return window}}()}(),function(){o.o=function(t,e){return Object.prototype.hasOwnProperty.call(t,e)}}(),function(){o.p="/"}(),function(){var t={143:0};o.O.j=function(e){return 0===t[e]};var e=function(e,s){var r,n,a=s[0],l=s[1],i=s[2],c=0;if(a.some((function(e){return 0!==t[e]}))){for(r in l)o.o(l,r)&&(o.m[r]=l[r]);if(i)var u=i(o)}for(e&&e(s);c<a.length;c++)n=a[c],o.o(t,n)&&t[n]&&t[n][0](),t[n]=0;return o.O(u)},s=self["webpackChunkCNTT"]=self["webpackChunkCNTT"]||[];s.forEach(e.bind(null,0)),s.push=e.bind(null,s.push.bind(s))}();var s=o.O(void 0,[998],(function(){return o(2962)}));s=o.O(s)})();
//# sourceMappingURL=app.0d28df99.js.map